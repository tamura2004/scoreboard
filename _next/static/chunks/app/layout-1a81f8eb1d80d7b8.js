(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1014:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,1290,23)),Promise.resolve().then(t.bind(t,5764)),Promise.resolve().then(t.bind(t,2e3)),Promise.resolve().then(t.bind(t,2864)),Promise.resolve().then(t.bind(t,9869)),Promise.resolve().then(t.bind(t,7542)),Promise.resolve().then(t.bind(t,9714)),Promise.resolve().then(t.bind(t,6129)),Promise.resolve().then(t.bind(t,7064)),Promise.resolve().then(t.bind(t,5789)),Promise.resolve().then(t.bind(t,2201)),Promise.resolve().then(t.bind(t,2078)),Promise.resolve().then(t.bind(t,73)),Promise.resolve().then(t.bind(t,4401)),Promise.resolve().then(t.bind(t,2693)),Promise.resolve().then(t.bind(t,529)),Promise.resolve().then(t.bind(t,8328)),Promise.resolve().then(t.bind(t,5329)),Promise.resolve().then(t.bind(t,5332)),Promise.resolve().then(t.bind(t,4423)),Promise.resolve().then(t.bind(t,6786)),Promise.resolve().then(t.bind(t,4321)),Promise.resolve().then(t.bind(t,7441)),Promise.resolve().then(t.bind(t,5576)),Promise.resolve().then(t.bind(t,5353)),Promise.resolve().then(t.bind(t,7915)),Promise.resolve().then(t.bind(t,5253)),Promise.resolve().then(t.bind(t,2189))},1193:(e,r,t)=>{"use strict";t.d(r,{Q:()=>d,S:()=>c});var o=t(5155),i=t(2115),s=t(9580);let n=(0,i.createContext)(void 0),l={PLAYERS:"scoreboard_players",HISTORY:"scoreboard_history"},a=[{id:"1",name:"プレイヤー1",score:0},{id:"2",name:"プレイヤー2",score:0},{id:"3",name:"プレイヤー3",score:0},{id:"4",name:"プレイヤー4",score:0}],d=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useScore must be used within ScoreProvider");return e},c=e=>{let{children:r}=e,[t,d]=(0,i.useState)(a),[c,m]=(0,i.useState)([]),[h,v]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{(()=>{try{let e=localStorage.getItem(l.PLAYERS),r=localStorage.getItem(l.HISTORY);e&&d(JSON.parse(e)),r&&m(JSON.parse(r))}catch(e){console.error("Failed to load from localStorage:",e)}finally{v(!0)}})()},[]),(0,i.useEffect)(()=>{if(h)try{localStorage.setItem(l.PLAYERS,JSON.stringify(t))}catch(e){console.error("Failed to save players to localStorage:",e)}},[t,h]),(0,i.useEffect)(()=>{if(h)try{localStorage.setItem(l.HISTORY,JSON.stringify(c))}catch(e){console.error("Failed to save history to localStorage:",e)}},[c,h]),(0,o.jsx)(n.Provider,{value:{players:t,history:c,addPlayer:()=>{if(t.length>=s.iq)return void alert("プレイヤーは最大".concat(s.iq,"人までです"));let e={id:Date.now().toString(),name:"プレイヤー".concat(t.length+1),score:0};d([...t,e])},removeLastPlayer:()=>{if(t.length<=s.wC)return void alert("プレイヤーは最低".concat(s.wC,"人必要です"));let e=t[t.length-1];d(t.slice(0,-1)),m(c.filter(r=>r.playerId!==e.id))},updatePlayerName:(e,r)=>{d(t.map(t=>t.id===e?{...t,name:r}:t)),m(c.map(t=>t.playerId===e?{...t,playerName:r}:t))},addScore:(e,r)=>{let o=t.find(r=>r.id===e);if(!o)return;let i=o.score+r;if(i<s.o||i>s.sz)return void alert("スコアは".concat(s.o,"-").concat(s.sz,"の範囲で入力してください"));let n=c.filter(r=>r.playerId===e).length,l={id:Date.now().toString(),playerId:e,playerName:o.name,score:r,totalScore:i,timestamp:Date.now(),sequenceNumber:n+1};d(t.map(r=>r.id===e?{...r,score:i}:r)),m([l,...c])},undoHistory:e=>{let r=c.find(r=>r.id===e);if(!r||!t.find(e=>e.id===r.playerId))return;let o=r.totalScore-r.score;d(t.map(e=>e.id===r.playerId?{...e,score:o}:e)),m(c.filter(r=>r.id!==e))},resetAll:()=>{d(a),m([])}},children:r})}},1290:()=>{},2e3:(e,r,t)=>{"use strict";t.d(r,{Providers:()=>s});var o=t(5155),i=t(1193);let s=e=>{let{children:r}=e;return(0,o.jsx)(i.S,{children:r})}},5764:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});let o=(0,t(2691).A)({palette:{mode:"light"}})},9580:(e,r,t)=>{"use strict";t.d(r,{iq:()=>o,o:()=>s,sz:()=>n,wC:()=>i});let o=10,i=1,s=0,n=999}},e=>{e.O(0,[741,422,323,833,441,255,358],()=>e(e.s=1014)),_N_E=e.O()}]);